<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Reserva de Stands para Evento em Senador Canedo de 02 a 05/10/2025" />
  <title>Reserva de Stands</title>
  <style>
    body {
      font-family: Arial;
      text-align: center;
      margin: 0;
      padding: 20px;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }
    h1 { color: #333; margin-bottom: 10px; }
    h2 { color: #444; margin: 10px 0; }
    .mapa-imagem {
      margin: 10px auto 20px;
      max-width: 90%;
      border: 1px solid #ccc;
    }
    .aviso {
      background: #ffe9a8;
      color: #000;
      padding: 10px;
      font-weight: bold;
      text-transform: uppercase;
      margin: 20px auto;
      width: fit-content;
      border-radius: 6px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(12, 60px);
      gap: 10px;
      justify-content: center;
      margin-top: 30px;
      overflow-x: auto;
    }
    .stand {
      padding: 12px;
      background: #f9d992;
      border: 1px solid #999;
      cursor: pointer;
      border-radius: 6px;
      font-size: 11px;
    }
    .stand.selected {
      background-color: #90ee90;
    }
    form {
      display: none;
      margin-top: 30px;
      background: rgba(255, 255, 255, 0.95);
      padding: 20px;
      border-radius: 10px;
      width: 320px;
      margin-left: auto;
      margin-right: auto;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    input, button {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
    }
    button:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }
    .evento-info {
      font-size: 1rem;
      margin-bottom: 15px;
      font-weight: bold;
      color: #222;
    }
    .popup {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      justify-content: center;
      align-items: center;
    }
    .popup-content {
      background: #333;
      color: #fff;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      max-width: 300px;
      position: relative;
    }
    .popup-content h3 {
      font-size: 16px;
      text-transform: uppercase;
      margin-bottom: 10px;
    }
    .popup-content .fechar {
      position: absolute;
      top: 5px;
      right: 10px;
      font-size: 12px;
      cursor: pointer;
    }
    .lista-estandes {
      font-size: 11px;
      color: #222;
      margin: 10px auto 20px;
      max-width: 95%;
      line-height: 1.4;
      padding: 10px;
    }
  </style>
</head>
<body>
  <h1>MAPA DO EVENTO</h1>
  <div class="evento-info">02 à 05/10/25 – Local: Senador Canedo</div>
  <img src="mapa-expo.jpeg" alt="Mapa do Evento" class="mapa-imagem" />
  <div style="background-color: #ffd699; font-size: 11px; font-weight: bold; padding: 10px; text-transform: uppercase; margin: 10px auto; width: fit-content; border-radius: 5px;">
    USANDO CELULAR OU TABLETE VIRE O APARELHO NO SENTIDO HORIZONTAL PARA VISUALIZAR
  </div>
  <div class="aviso">CLIQUE NO NÚMERO DE ESTANDE DESEJADO PARA A RESERVA</div>

  <!-- LISTA COMPLETA DOS ESTANDES -->
  <div class="lista-estandes">
    A1 A2 A3 A4 A5 A6 A7 A8 A9 A10 A11 A12 A13 A14 A15 A16 A17 A18 A19 A20 A21 A22 A23 A24 A25 A26 A27 A28 A29 A30 A31 A32 A33 A34 A35 A36 A37 A38 A39 A40 A41 A42 A43 A44 A45 A46 A47 A48 A49 A50 A51 A52 A53 A54 A55 A56 A57 A58 A59 A60 A61 A62 A63 A64 A65 A66 A67 A68 A69 A70 A71 A72 A73 A74 A75 A76 A77 A78<br>
    B1 B2 B3 B4 B5 B6 B7 B8 B9 B10 B11 B12 B13 B14 B15 B16 B17 B18 B19 B20 B21 B22 B23 B24 B25 B26 B27 B28 B29 B30 B31 B32 B33 B34 B35 B36 B37 B38 B39 B40 B41 B42 B43 B44 B45 B46 B47 B48 B49 B50 B51 B52 B53 B54 B55 B56 B57 B58 B59 B60 B61 B62 B63 B64 B65 B66 B67 B68 B69 B70 B71 B72 B73 B74 B75 B76 B77 B78<br>
    C1 C2 C3 C4 C5 C6 C7 C8 C9 C10 C11 C12 C13 C14 C15 C16 C17 C18 C19 C20 C21 C22 C23 C24 C25 C26 C27 C28 C29 C30 C31 C32 C33 C34 C35 C36 C37 C38 C39 C40 C41 C42 C43 C44 C45 C46 C47 C48 C49 C50 C51 C52 C53 C54 C55 C56 C57 C58 C59 C60 C61 C62 C63 C64 C65 C66 C67 C68 C69 C70 C71 C72 C73 C74 C75 C76 C77 C78<br>
    D79 D80 D81 D82 D83 D84 D85 D86 D87 D88 D89 D90 D91 D92 D93 D94 D95 D96 D97 D98 D99 D100 D101 D102 D103 D104 D105<br>
    E96 E97 E98 E99 E100 E101 E102 E103 E104 E105 E106 E107 E108 E109 E110 E111 E112 E113 E114 E115 E116 E117 E118 E119 E120 E121 E122 E123 E124<br>
    F130 F131 F132 F133 F134 F135 F136 F137 F138 F139 F140 F141 F142 F143 F144 F145 F146 F147 F148 F149 F150 F151 F152 F153 F154<br>
    G155 G156 G157 G158 G159 G160 G161 G162 G163 G164 G165 G166 G167 G168 G169 G170 G171 G172 G173 G174 G175 G176 G177 G178 G179 G180 G181
  </div>

  <div class="grid" id="mapa"></div>
  <form id="reservaForm">
    <input type="hidden" name="stand" id="standSelecionado" />
    <p>Reserva para o Stand: <strong id="standLabel"></strong></p>
    <input type="text" name="nome" placeholder="Seu Nome" required />
    <input type="email" name="email" placeholder="E-mail" required />
    <input type="tel" name="telefone" placeholder="Telefone Fixo (opcional)" />
    <input type="tel" name="whatsapp" id="whatsapp" placeholder="DDD + WhatsApp" required />
    <button type="submit" disabled>Enviar Reserva</button>
  </form>
  <div class="popup" id="popup">
    <div class="popup-content">
      <span class="fechar" onclick="document.getElementById('popup').style.display='none'">Fechar ✕</span>
      <h3>SUA MENSAGEM FOI ENVIADA COM SUCESSO!</h3>
      <p>Logo entraremos em contato para a continuação do processo.<br>Obrigado!</p>
    </div>
  </div>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.9.3/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.9.3/firebase-database.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBHoD18a3KLk9Fwla_EW9eO0-8gi9ODN04",
      authDomain: "reservaexpoco-senadorcanedo.firebaseapp.com",
      projectId: "reservaexpoco-senadorcanedo",
      storageBucket: "reservaexpoco-senadorcanedo.firebasestorage.app",
      messagingSenderId: "1005969732734",
      appId: "1:1005969732734:web:03bd3ef7b6ef46f310542f"
    };
    const app = firebase.initializeApp(firebaseConfig);
    const database = firebase.database(app);
    const estandesRef = database.ref('estandes');
    const mapa = document.getElementById('mapa');
    estandesRef.once('value', snapshot => {
      snapshot.forEach(stand => {
        const div = document.createElement('div');
        div.className = 'stand';
        div.textContent = stand.val().nome;
        div.style.position = 'absolute';
        div.style.top = `${stand.val().top}px`;
        div.style.left = `${stand.val().left}px`;
        div.addEventListener('click', () => {
          div.classList.toggle('selected');
          const standSelecionado = document.getElementById('standSelecionado');
          const standLabel = document.getElementById('standLabel');
          standSelecionado.value = stand.val().nome;
          standLabel.textContent = stand.val().nome;
          document.getElementById('reservaForm').style.display = 'block';
        });
        mapa.appendChild(div);
      });
    });
  </script>

  <script>
    const form = document.getElementById('reservaForm');
    const button = form.querySelector('button');
    form.addEventListener('input', () => {
      const nome = form.nome.value.trim();
      const email = form.email.value.trim();
      const whatsapp = form.whatsapp.value.trim();
      const validWhatsapp = /^\(?\d{2}\)?\s?\d{4,5}-?\d{4}$/.test(whatsapp);
      button.disabled = !(nome && email && whatsapp && validWhatsapp);
    });
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      const whatsapp = form.whatsapp.value.trim();
      const validWhatsapp = /^\(?\d{2}\)?\s?\d{4,5}-?\d{4}$/.test(whatsapp);
      if (!validWhatsapp) {
        alert("Corrija o número de WhatsApp com DDD corretamente.");
        form.whatsapp.focus();
        return;
      }
      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());
      firebase.database().ref('reservas').push(data);
      form.reset();
      button.disabled = true;
      form.style.display = 'none';
      setTimeout(() => document.getElementById('popup').style.display = 'flex', 300);
    });
  </script>

</body>
</html>
